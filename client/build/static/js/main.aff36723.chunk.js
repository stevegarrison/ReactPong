(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(75)},33:function(e,t,a){},36:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/space.a9600681.jpg"},61:function(e,t,a){e.exports=a.p+"static/media/jungle.1783aa0c.jpg"},62:function(e,t,a){e.exports=a.p+"static/media/clouds.05b17ab2.jpg"},63:function(e,t,a){e.exports=a.p+"static/media/ocean.73bd9783.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/beach.c59b65c5.jpg"},65:function(e,t,a){e.exports=a.p+"static/media/winter.69631389.jpg"},66:function(e,t,a){e.exports=a.p+"static/media/lava.7cc12b61.jpg"},67:function(e,t,a){e.exports=a.p+"static/media/snow.7e92c22f.jpg"},68:function(e,t,a){e.exports=a.p+"static/media/ping.df3e02e7.wav"},69:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/winner.4039d926.wav"},72:function(e,t,a){e.exports=a.p+"static/media/loss.fa5c399d.wav"},73:function(e,t,a){e.exports=a.p+"static/media/song.752c21e7.mp3"},75:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),n=a(23),s=a.n(n),o=a(78),m=a(79),r=a(80),c=a(2),d=a(4),h=a(5),p=a(3),u=a(6),v=(a(33),a(77)),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).handleStartGame=function(e){e.preventDefault(),console.log("Start Game")},a.handleOptions=function(e){e.preventDefault(),console.log("Options")},a}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{className:"pong-header glow"},"PONG!"),l.a.createElement(v.a,{to:"/gameOnePlayer"},l.a.createElement("button",{className:"btn m-2"},"One Player!")),l.a.createElement(v.a,{to:"/gameTwoPlayer"},l.a.createElement("button",{className:"btn m-2"},"Two Player!")),l.a.createElement(v.a,{to:"/practice"},l.a.createElement("button",{className:"btn m-2"},"Practice!")),l.a.createElement("div",{className:"text-light"},l.a.createElement(v.a,{to:"/options"},l.a.createElement("i",{id:"cog",className:"fas fa-cog fa-3x"})))),l.a.createElement("p",{className:"credits"},"Steve Garrison | Kurtis Pace"))}}]),t}(i.Component),_=(a(36),a(15)),g=a.n(_),b={getOptions:function(){return console.log("OPTIONS (API.js)"),g.a.get("/api/options")},saveOptions:function(e){return console.log(e),g.a.put("/api/options",e)}};function E(e){return l.a.createElement("div",null,l.a.createElement("input",e))}var f=a(24),S=a.n(f),C="",k="",x="",N="",T="",P="",w=0,B="",M="",O="",I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={player1Color:"",player2Color:"",ballColor:"",imageURL:"",player1Size:130,player2Size:130,value:5,multiBall:"false",paddleShrink:"false",fastBall:"false"},a.handleScoreChange=function(e){w=e,console.log(w),a.setState({value:w})},a.handleMultiBall=function(e){e.preventDefault(),B=e.target.getAttribute("data-multiBall"),console.log(B),a.setState({multiBall:B})},a.handlePaddleShrink=function(e){e.preventDefault(),M=e.target.getAttribute("data-paddleShrink"),console.log(M),a.setState({paddleShrink:M})},a.handleFastBall=function(e){e.preventDefault(),O=e.target.getAttribute("data-fastBall"),console.log(O),a.setState({fastBall:O})},a.handleSave=function(e){b.saveOptions({player1Color:a.state.player1Color,player1Size:a.state.player1Size,player2Color:a.state.player2Color,player2Size:a.state.player2Size,ballColor:a.state.ballColor,imageURL:a.state.imageURL,value:a.state.value,multiBall:a.state.multiBall,paddleShrink:a.state.paddleShrink,fastBall:a.state.fastBall})},a.handleInputChange=function(e){a.setState({imageURL:e.target.value})},a.handlePlayerOneColor=function(e){e.preventDefault(),k=e.target.getAttribute("data-color"),a.setState({player1Color:k}),console.log("Player one color: "+k)},a.handlePlayerOneSize=function(e){e.preventDefault(),x=parseInt(e.target.getAttribute("data-size")),a.setState({player1Size:x}),console.log("Player one size: "+x)},a.handlePlayerTwoSize=function(e){e.preventDefault(),T=parseInt(e.target.getAttribute("data-size")),a.setState({player2Size:T}),console.log("Player two size: "+T)},a.handlePlayerTwoColor=function(e){e.preventDefault(),N=e.target.getAttribute("data-color"),a.setState({player2Color:N}),console.log("Player two color: "+N)},a.handleImageURL=function(e){e.preventDefault(),C=e.target.getAttribute("data-image"),a.setState({imageURL:C}),console.log("Theme: "+C)},a.handleBallColor=function(e){e.preventDefault(),P=e.target.getAttribute("data-color"),a.setState({ballColor:P}),console.log("Ball color: "+P)},a}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.value;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center text-light container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-1"}),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("h1",{className:"header mt-2"},"Options"),l.a.createElement("p",{className:"mt-2"},"(Default style set to white on black)"),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Score Limit")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"slider"},l.a.createElement(S.a,{min:1,max:15,value:e,onChange:this.handleScoreChange}))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"value"},1===e?l.a.createElement("p",{id:"suddenDeath"},"SUDDEN DEATH!"):e))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Events")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1"},"Multi-ball: ")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{className:"btn multiBall m-1 ".concat("true"===this.state.multiBall?"active4":""),"data-multiBall":"true",onClick:this.handleMultiBall},"On"),l.a.createElement("button",{className:"btn multiBall m-1 ".concat("false"===this.state.multiBall?"active4":""),"data-multiBall":"false",onClick:this.handleMultiBall},"Off"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1"},"Paddle Shrinker: ")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{className:"btn paddleShrink m-1 ".concat("true"===this.state.paddleShrink?"active4":""),"data-paddleShrink":"true",onClick:this.handlePaddleShrink},"On"),l.a.createElement("button",{className:"btn paddleShrink m-1 ".concat("false"===this.state.paddleShrink?"active4":""),"data-paddleShrink":"false",onClick:this.handlePaddleShrink},"Off"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1"},"Fast Ball: ")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{className:"btn fastBall m-1 ".concat("true"===this.state.fastBall?"active4":""),"data-fastBall":"true",onClick:this.handleFastBall},"On"),l.a.createElement("button",{className:"btn fastBall m-1 ".concat("false"===this.state.fastBall?"active4":""),"data-fastBall":"false",onClick:this.handleFastBall},"Off"))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Player One")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1"},"Color: ")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{id:"color-btn",className:"player1-color1 m-1 ".concat("red"===this.state.player1Color?"active":""),"data-color":"red",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color2 m-1 ".concat("blue"===this.state.player1Color?"active":""),"data-color":"blue",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color3 m-1 ".concat("lime"===this.state.player1Color?"active":""),"data-color":"lime",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color4 m-1 ".concat("yellow"===this.state.player1Color?"active":""),"data-color":"yellow",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color5 m-1 ".concat("#FF3399"===this.state.player1Color?"active":""),"data-color":"#FF3399",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color6 m-1 ".concat("purple"===this.state.player1Color?"active":""),"data-color":"purple",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color7 m-1 ".concat("orange"===this.state.player1Color?"active":""),"data-color":"orange",onClick:this.handlePlayerOneColor}),l.a.createElement("button",{id:"color-btn",className:"player1-color8 m-1 ".concat("mediumspringgreen"===this.state.player1Color?"active":""),"data-color":"mediumspringgreen",onClick:this.handlePlayerOneColor}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-3",id:"flex"},"Paddle size: ")),l.a.createElement("div",{className:"col-md-8 mt-3"},l.a.createElement("button",{className:"btn player-size m-1 ".concat(90===this.state.player1Size?"active2":""),"data-size":"90",onClick:this.handlePlayerOneSize},"Small"),l.a.createElement("button",{className:"btn player-size m-1 ".concat(130===this.state.player1Size?"active2":""),"data-size":"130",onClick:this.handlePlayerOneSize},"Medium"),l.a.createElement("button",{className:"btn player-size m-1 ".concat(210===this.state.player1Size?"active2":""),"data-size":"210",onClick:this.handlePlayerOneSize},"Large"))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Player Two")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-4"},"Color: ")),l.a.createElement("div",{className:"col-md-8 mt-4"},l.a.createElement("button",{id:"color-btn",className:"player2-color1 m-1 ".concat("red"===this.state.player2Color?"active":""),"data-color":"red",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color2 m-1 ".concat("blue"===this.state.player2Color?"active":""),"data-color":"blue",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color3 m-1 ".concat("lime"===this.state.player2Color?"active":""),"data-color":"lime",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color4 m-1 ".concat("yellow"===this.state.player2Color?"active":""),"data-color":"yellow",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color5 m-1 ".concat("#FF3399"===this.state.player2Color?"active":""),"data-color":"#FF3399",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color6 m-1 ".concat("purple"===this.state.player2Color?"active":""),"data-color":"purple",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color7 m-1 ".concat("orange"===this.state.player2Color?"active":""),"data-color":"orange",onClick:this.handlePlayerTwoColor}),l.a.createElement("button",{id:"color-btn",className:"player2-color8 m-1 ".concat("mediumspringgreen"===this.state.player2Color?"active":""),"data-color":"mediumspringgreen",onClick:this.handlePlayerTwoColor}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-3"},"Paddle size: ")),l.a.createElement("div",{className:"col-md-8 mt-3"},l.a.createElement("button",{className:"btn player-size m-1 ".concat(90===this.state.player2Size?"active2":""),"data-size":"90",onClick:this.handlePlayerTwoSize},"Small"),l.a.createElement("button",{className:"btn player-size m-1 ".concat(130===this.state.player2Size?"active2":""),"data-size":"130",onClick:this.handlePlayerTwoSize},"Medium"),l.a.createElement("button",{className:"btn player-size m-1 ".concat(210===this.state.player2Size?"active2":""),"data-size":"210",onClick:this.handlePlayerTwoSize},"Large"))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Ball")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-3"},"Color: ")),l.a.createElement("div",{className:"col-md-8 mt-3"},l.a.createElement("button",{id:"color-btn",className:"ball-color1 m-1 ".concat("red"===this.state.ballColor?"active":""),"data-color":"red",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color2 m-1 ".concat("blue"===this.state.ballColor?"active":""),"data-color":"blue",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color3 m-1 ".concat("lime"===this.state.ballColor?"active":""),"data-color":"lime",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color4 m-1 ".concat("yellow"===this.state.ballColor?"active":""),"data-color":"yellow",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color5 m-1 ".concat("#FF3399"===this.state.ballColor?"active":""),"data-color":"#FF3399",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color6 m-1 ".concat("purple"===this.state.ballColor?"active":""),"data-color":"purple",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color7 m-1 ".concat("orange"===this.state.ballColor?"active":""),"data-color":"orange",onClick:this.handleBallColor}),l.a.createElement("button",{id:"color-btn",className:"ball-color8 m-1 ".concat("mediumspringgreen"===this.state.ballColor?"active":""),"data-color":"mediumspringgreen",onClick:this.handleBallColor}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-md-4",id:"flex"},l.a.createElement("h1",{className:"options-text"},"Background")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-3"},"Image Adress: ")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("form",{className:"form"},l.a.createElement(E,{value:this.state.imageURL,onChange:this.handleInputChange,name:"imageURL",placeholder:"Image URL",id:"form"})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("p",{className:"options-text1 mt-3"},"Presets:")),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/space.jpg"===this.state.imageURL?"active2":""),"data-image":a(60),onClick:this.handleImageURL},"Space"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/jungle.jpg"===this.state.imageURL?"active2":""),"data-image":a(61),onClick:this.handleImageURL},"Jungle"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/clouds.jpg"===this.state.imageURL?"active2":""),"data-image":a(62),onClick:this.handleImageURL},"Clouds"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/ocean.jpg"===this.state.imageURL?"active2":""),"data-image":a(63),onClick:this.handleImageURL},"Ocean"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/beach.jpg"===this.state.imageURL?"active2":""),"data-image":a(64),onClick:this.handleImageURL},"Beach"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/imagess/winter.jpg"===this.state.imageURL?"active2":""),"data-image":a(65),onClick:this.handleImageURL},"Winter"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/lava.jpg"===this.state.imageURL?"active2":""),"data-image":a(66),onClick:this.handleImageURL},"Lava"),l.a.createElement("button",{className:"btn player-background m-1 ".concat("../resources/images/snow.jpg"===this.state.imageURL?"active2":""),"data-image":a(67),onClick:this.handleImageURL},"Snow"))))),l.a.createElement("hr",null),l.a.createElement(v.a,{to:"/"},l.a.createElement("button",{className:"save-btn mt-4 mb-4",onClick:this.handleSave},"Save"))),l.a.createElement("div",{className:"col-md-1"}),l.a.createElement(v.a,{onClick:this.resetGame,to:"/"},l.a.createElement("i",{id:"home-icon",className:"m-3 fas fa-home fa-3x"})))))}}]),t}(i.Component),W=a(9),U=function e(){Object(c.a)(this,e),this.m_position={x:0,y:0},this.m_velocity={x:0,y:0},this.m_dimensions={width:32,height:32}},z=function(e){function t(e,i,l,n){var s;return Object(c.a)(this,t),(s=Object(h.a)(this,Object(p.a)(t).call(this))).m_bPlaySound=!0,s.eventLogic={m_prevSize:0},s.m_paddleColor="red",s.m_gameWidth=0,s.m_gameHeight=0,s.m_bIsMovingUp=!1,s.m_bIsMovingDown=!1,s.m_sfxPositive=new Audio(a(68)),s.collision=!1,s.collisionRect={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},s.checkForCollision=function(e){if(s.m_position.x+s.m_dimensions.width>e.m_position.x&&s.m_position.y<e.m_position.y+e.m_dimensions.height&&s.m_position.y+s.m_dimensions.height>e.m_position.y&&s.m_position.x<e.m_position.x+e.m_dimensions.width){s.m_bPlaySound&&s.m_sfxPositive.play();var t=s.m_dimensions.height/3;e.m_position.y>=s.m_position.y+t&&e.m_position.y<=s.m_position.y+s.m_dimensions.height-t?e.m_velocity.y=e.m_velocity.y-.9*e.m_velocity.y:e.addVelY(),e.m_position.x>s.m_position.x&&e.m_position.y>s.m_position.y&&e.m_position.y<s.m_position.y+s.m_dimensions.height?(s.m_bIsMovingUp?e.m_velocity.y>0&&(e.m_velocity.y*=-1):s.m_bIsMovingDown&&e.m_velocity.y<0&&(e.m_velocity.y*=-1),e.m_velocity.x*=-1,e.m_position.x+=s.m_position.x+s.m_dimensions.width-e.m_position.x):e.m_position.x<s.m_position.x+s.m_dimensions.width&&e.m_position.y>s.m_position.y&&e.m_position.y<s.m_position.y+s.m_dimensions.height?(s.m_bIsMovingUp?e.m_velocity.y>0&&(e.m_velocity.y*=-1):s.m_bIsMovingDown&&e.m_velocity.y<0&&(e.m_velocity.y*=-1),e.m_velocity.x*=-1,e.m_position.x-=e.m_position.x+e.m_dimensions.width-s.m_position.x):e.m_position.y-e.m_dimensions.height<s.m_position.y?(e.m_velocity.y>0&&(e.m_velocity.y*=-1),e.m_position.y-=e.m_position.y+e.m_dimensions.height-s.m_position.y):e.m_position.y<s.m_position.y+s.m_dimensions.height&&(e.m_velocity.y<0&&(e.m_velocity.y*=-1),e.m_position.y+=s.m_position.y+s.m_dimensions.height-e.m_position.y)}else s.collision=!1},s.m_position.x=10,s.m_position.y=10,s.m_velocity.x=300,s.m_velocity.y=720,s.m_dimensions.width=30,s.m_dimensions.height=130,s.m_gameWidth=e,s.m_gameHeight=i,s.m_dimensions.height=n,s.m_position.y=i/2-s.m_dimensions.height/2,s.m_paddleColor=l,s}return Object(u.a)(t,e),Object(d.a)(t,[{key:"setPosition",value:function(e,t){this.m_position.x=e,this.m_position.y=t}},{key:"setPositionX",value:function(e){this.m_position.x=e}},{key:"setPositionY",value:function(e){this.m_position.y=e}},{key:"getPositionX",value:function(){return this.m_position.x}},{key:"getPositionY",value:function(){return this.m_position.x}},{key:"placeAtOrigin",value:function(){this.m_position.y=this.m_gameHeight/2-this.m_dimensions.height/2}},{key:"enterTinyPaddleEvent",value:function(){this.eventLogic.m_prevSize=this.m_dimensions.height,this.m_dimensions.height=65}},{key:"exitTinyPaddleEvent",value:function(){this.m_dimensions.height=this.eventLogic.m_prevSize}},{key:"clearMovingFlags",value:function(){this.m_bIsMovingUp=!1,this.m_bIsMovingDown=!1}},{key:"movePaddle",value:function(e,t){switch(e){case"up":this.m_bIsMovingUp=!0,this.m_position.y+1>0&&(this.m_position.y=this.m_position.y-this.m_velocity.y*t);break;case"down":this.m_bIsMovingDown=!0,this.m_position.y+this.m_dimensions.height-1<this.m_gameHeight&&(this.m_position.y=this.m_position.y+this.m_velocity.y*t);break;case"right":this.m_position.x=this.m_position.x-this.m_velocity.x*t;break;case"left":this.m_position.x=this.m_position.x+this.m_velocity.x*t}}},{key:"render",value:function(e){e.fillStyle=this.m_paddleColor,e.fillRect(this.m_position.x,this.m_position.y,this.m_dimensions.width,this.m_dimensions.height),e.fillStyle="black",e.strokeRect(this.m_position.x,this.m_position.y,this.m_dimensions.width,this.m_dimensions.height),this.collision&&(console.log(this.collisionRect),e.fillStyle="red",e.fillRect(this.collisionRect.topLeft,this.collisionRect.topLeft,this.collisionRect.topRight-this.collisionRect.topLeft,this.collisionRect.bottomRight-this.collisionRect.topLeft))}},{key:"updateGameSize",value:function(e,t){this.m_gameWidth=e,this.m_gameHeight=t}}]),t}(U),j=function(e){function t(e,a,i){var l;return Object(c.a)(this,t),(l=Object(h.a)(this,Object(p.a)(t).call(this))).m_minVelY=100,l.m_maxVelY=950,l.m_startingVel=350,l.m_gameWidth=0,l.m_gameHeight=0,l.m_originX=0,l.m_originY=0,l.m_ballColor="red",l.m_friction=100,l.m_bExitingFastBallEvent=!1,l.m_bInFastBallEvent=!1,l.delayLogic={m_dCurrentDelayTime:0,m_dMaxDelayTime:1},l.m_position.x=400,l.m_position.y=500,l.m_velocity.x=750,l.m_velocity.y=350,l.m_dimensions.width=25,l.m_dimensions.height=25,l.m_gameWidth=e,l.m_gameHeight=a,l.m_ballColor=i,l.placeAtOrigin(),l}return Object(u.a)(t,e),Object(d.a)(t,[{key:"placeAtOrigin",value:function(){this.delayLogic.m_dCurrentDelayTime=0,this.m_position.x=this.m_gameWidth/2-this.m_dimensions.width/2,this.m_position.y=this.m_gameHeight/2}},{key:"enterFastBallEvent",value:function(){this.m_bInFastBallEvent=!0,this.m_velocity.x>0?this.m_velocity.x=1700:this.m_velocity.x=-1700}},{key:"exitFastBallEvent",value:function(){this.m_bExitingFastBallEvent=!0,this.m_velocity.x>0?this.m_velocity.x=750:this.m_velocity.x=-750}},{key:"resetBall",value:function(){this.m_velocity.y=this.m_startingVel,this.m_velocity.y=Math.floor(Math.random()*this.m_startingVel)+100,0===Math.floor(3*Math.random())&&(this.m_velocity.y*=-1),0===Math.floor(3*Math.random())&&(this.m_velocity.x*=-1),this.placeAtOrigin()}},{key:"addVelY",value:function(){this.m_velocity.y<0?this.m_velocity.y>=-this.m_maxVelY&&(this.m_velocity.y-=350):this.m_velocity.y>0?this.m_velocity.y<=this.m_maxVelY&&(this.m_velocity.y+=350):this.m_velocity.y+=350}},{key:"updateGameSize",value:function(e,t){this.m_gameWidth=e,this.m_gameHeight=t}},{key:"decelerateVelY",value:function(e){this.m_velocity.y<0?(this.m_velocity.y+=this.m_friction*e,this.m_velocity.y>-this.m_minVelY&&(this.m_velocity.y=-this.m_minVelY)):(this.m_velocity.y-=this.m_friction*e,this.m_velocity.y<this.m_minVelY&&(this.m_velocity.y=this.m_minVelY))}},{key:"update",value:function(e,t){if(this.delayLogic.m_dCurrentDelayTime+=e,!(this.delayLogic.m_dCurrentDelayTime<this.delayLogic.m_dMaxDelayTime)){this.decelerateVelY(e),this.m_position.x+=this.m_velocity.x*e,this.m_position.y+=this.m_velocity.y*e;var a="";this.m_position.x<0&&(a="left"),this.m_position.x+this.m_dimensions.width>this.m_gameWidth&&(a="right"),this.m_position.y<0&&(this.m_position.y=0,this.m_velocity.y*=-1),this.m_position.y+this.m_dimensions.height>this.m_gameHeight&&(this.m_position.y-=this.m_position.y+this.m_dimensions.height-this.m_gameHeight,this.m_velocity.y*=-1),t(a)}}},{key:"flipVelX",value:function(){this.m_velocity.x*=-1}},{key:"flipVelY",value:function(){this.m_velocity.y*=-1}},{key:"renderCollisionRect",value:function(e){e.fillRect(this.m_position.x,this.m_position.y,this.m_dimensions.width,this.m_dimensions.height)}},{key:"render",value:function(e){e.fillStyle=this.m_ballColor,e.beginPath(),e.arc(this.m_position.x+this.m_dimensions.width/2,this.m_position.y+this.m_dimensions.height/2,this.m_dimensions.width/2,0,2*Math.PI),e.fill(),e.fillStyle="black",e.lineWidth=3,e.arc(this.m_position.x+this.m_dimensions.width/2,this.m_position.y+this.m_dimensions.height/2,this.m_dimensions.width/2,0,2*Math.PI),e.stroke(),e.closePath()}}]),t}(U),R=(a(69),a(27)),D=function(){this.m_dCurrentTime=0,this.m_dNextEventTime=0,this.m_dMaxTime=0},L=function(e){function t(e,a,i,l){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e,a,i,l))).m_wrongDirTime=new D,n.m_delayTimer=new D,n.m_perfectTimer=new D,n.m_bLocked=!1,n.m_saveBallTimer=new D,n.m_bPracticeMode=!1,n.m_bIsCollidingWithWall=!1,n.stateMachine={szCurrentState:"",enterState:function(e){if(n.szCurrentState!==e)switch(n.szCurrentState=e,n.szCurrentState){case"SEARCHING":n.m_bLocked=!1}},updateStates:function(e,t,a){switch(console.log(n.szCurrentState),n.szCurrentState){case"PRACTICE":n.stayWithBall(t);break;case"SEARCHING":n.trackBall(e,t,a),n.m_saveBallTimer.m_dCurrentTime+=a,n.m_saveBallTimer.m_dCurrentTime>=n.m_saveBallTimer.m_dNextEventTime&&(n.m_saveBallTimer.m_dCurrentTime=0,n.findNextSaveBallTime(),n.stateMachine.enterState("SAVEBALL")),n.m_perfectTimer.m_dCurrentTime+=a,n.m_perfectTimer.m_dCurrentTime>=n.m_perfectTimer.m_dNextEventTime&&(n.m_perfectTimer.m_dCurrentTime=0,n.findNextPerfectTime(),n.stateMachine.enterState("PERFECT")),n.m_wrongDirTime.m_dCurrentTime+=a,n.m_wrongDirTime.m_dCurrentTime>=n.m_wrongDirTime.m_dNextEventTime&&(n.m_wrongDirTime.m_dCurrentTime=0,n.findNextWrongDirTime(),n.stateMachine.enterState("WRONGDIR")),n.m_delayTimer.m_dCurrentTime+=a,n.m_delayTimer.m_dCurrentTime>=n.m_delayTimer.m_dNextEventTime&&(n.m_delayTimer.m_dCurrentTime=0,n.findNextDelayTime(),n.stateMachine.enterState("DELAYED"));break;case"DELAYED":n.m_delayTimer.m_dCurrentTime+=a,n.m_delayTimer.m_dCurrentTime>=n.m_delayTimer.m_dMaxTime&&(n.m_delayTimer.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING"));break;case"WRONGDIR":n.m_position.x-e>.33*n.m_gameWidth&&Math.abs(t-n.m_position.y)<1.5*n.m_dimensions.height&&(n.m_wrongDirTime.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING")),n.movePaddleWrongDir(t,a),n.m_wrongDirTime.m_dCurrentTime+=a,n.m_wrongDirTime.m_dCurrentTime>=n.m_wrongDirTime.m_dMaxTime&&(n.m_wrongDirTime.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING"));break;case"SAVEBALL":n.m_position.x-e>.33*n.m_gameWidth&&(n.m_saveBallTimer.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING")),n.m_position.y+n.m_dimensions.width/2===t+16&&!1===n.m_bLocked?n.m_bLocked=!0:n.trackBall(e,t,a),n.m_bLocked&&n.stayWithBall(t),n.m_saveBallTimer.m_dCurrentTime>=n.m_saveBallTimer.m_dMaxTime&&(n.m_saveBallTimer.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING"));break;case"PERFECT":n.m_perfectTimer.m_dCurrentTime+=a,n.m_position.y+n.m_dimensions.width/2===t+16&&!1===n.m_bLocked?n.m_bLocked=!0:n.trackBall(e,t,a),n.m_bLocked&&n.stayWithBall(t),n.m_perfectTimer.m_dCurrentTime>=n.m_perfectTimer.m_dMaxTime&&(n.m_perfectTimer.m_dCurrentTime=0,n.stateMachine.enterState("SEARCHING"))}},exitState:function(){}},n.initEventTimers(),n}return Object(u.a)(t,e),Object(d.a)(t,[{key:"initEventTimers",value:function(){this.findNextDelayTime(),this.findNextWrongDirTime(),this.findNextPerfectTime(),this.findNextSaveBallTime()}},{key:"setPracticeMode",value:function(){this.m_bPracticeMode=!0,this.m_velocity.y=1e3,this.stateMachine.enterState("PRACTICE")}},{key:"setNormalMode",value:function(){this.m_bPracticeMode=!1,this.m_velocity.y=720,this.stateMachine.enterState("SEARCHING")}},{key:"findNextDelayTime",value:function(){this.m_delayTimer.m_dNextEventTime=8*Math.random()+3,this.m_delayTimer.m_dMaxTime=(100*Math.random()+1)/100}},{key:"findNextWrongDirTime",value:function(){this.m_wrongDirTime.m_dNextEventTime=6*Math.random()+1,this.m_wrongDirTime.m_dMaxTime=(100*Math.random()+1)/100}},{key:"findNextPerfectTime",value:function(){this.m_perfectTimer.m_dNextEventTime=10*Math.random()+5,this.m_perfectTimer.m_dMaxTime=5*Math.random()+1}},{key:"findNextSaveBallTime",value:function(){this.m_saveBallTimer.m_dNextEventTime=6*Math.random()+1,this.m_saveBallTimer.m_dMaxTime=3}},{key:"moveToBall",value:function(e,t){e<this.m_position.y+this.m_dimensions.height/2?(this.m_bIsMovingUp=!0,this.m_position.y=this.m_position.y-this.m_velocity.y*t):e>this.m_position.y-this.m_dimensions.height/2&&(this.m_bIsMovingDown=!0,this.m_position.y=this.m_position.y+this.m_velocity.y*t)}},{key:"movePaddleWrongDir",value:function(e,t){e<this.m_position.y+this.m_dimensions.height/2?(this.m_bIsMovingUp=!0,this.m_position.y=this.m_position.y+this.m_velocity.y*t):e>this.m_position.y-this.m_dimensions.height/2&&(this.m_bIsMovingDown=!0,this.m_position.y=this.m_position.y-this.m_velocity.y*t),this.checkForMapBoundries()}},{key:"checkForMapBoundries",value:function(){this.m_position.y<=1?this.m_position.y=1:this.m_position.y+this.m_dimensions.height-1>=this.m_gameHeight&&(this.m_position.y=this.m_gameHeight-this.m_dimensions.height-1)}},{key:"stayWithBall",value:function(e){this.m_position.y=e-this.m_dimensions.height/2,this.checkForMapBoundries()}},{key:"trackBall",value:function(e,t,a){this.m_bPracticeMode?this.stayWithBall(t):t>=this.m_position.y&&t<=this.m_position.y+this.m_dimensions.height||(this.m_bIsDelayed||this.moveToBall(t,a),this.checkForMapBoundries())}},{key:"update",value:function(e,t,a){this.stateMachine.updateStates(e,t,a)}},{key:"render",value:function(e){Object(R.a)(Object(p.a)(t.prototype),"render",this).call(this,e)}}]),t}(z),A=a(25),F=a.n(A),H=function(){function e(){var t=this;Object(c.a)(this,e),this.m_handleToBall=null,this.m_handleToPlayer1Paddle=null,this.m_handleToPlayer2Paddle=null,this.m_handleToAIPaddle=null,this.fastBall="false",this.paddleShrink="false",this.multiBall="false",this.m_multiPlayer=!1,this.m_splitBalls=[],this.m_nMaxTinyPaddleTime=10,this.m_dCurTime=0,this.m_dMaxEventTimer=10,this.m_dMaxSplitBallTime=10,this.m_dSplitBallWaveMaxTime=.1,this.m_dSplitBallWaveCurTime=0,this.m_nNumSplitBallCurWave=0,this.m_nNumSplitBallMaxWaves=10,this.m_gameUIWidth=0,this.m_gameUIHeight=0,this.m_activeEvents=[],this.m_dNextEventTimer=10,this.m_szCurrentEvent="no-event",this.startEvent=function(e){var a=e.split("-");"no"!==a&&t.findAndRemoveActiveEvent("no-event");for(var i=0;i<t.m_activeEvents.length;++i){var l=t.m_activeEvents[i].split("-");if(console.log("first: "+a+". second: "+l),a[0]===l[0])return}switch(console.log("startEvent"),t.m_dCurTime=0,t.addEventActiveEvent(e),e){case"fast-ball":t.m_handleToBall.enterFastBallEvent();break;case"tiny-paddle":t.m_handleToPlayer1Paddle.enterTinyPaddleEvent(),t.m_multiPlayer?t.m_handleToPlayer2Paddle.enterTinyPaddleEvent():t.m_handleToAIPaddle.enterTinyPaddleEvent();break;case"split-ball":for(var n=0;n<3;++n){var s=new j(t.m_gameUIWidth,t.m_gameUIHeight,"white");s.resetBall(),t.m_splitBalls.push(s)}}},this.updateEvents=function(e){t.m_dNextEventTimer<=0?(t.findNextEvent(),t.m_dNextEventTimer=t.m_dMaxEventTimer):t.m_dNextEventTimer=t.m_dNextEventTimer-e;for(var a=0;a<t.m_activeEvents.length;++a)switch(t.m_activeEvents[a]){case"split-ball":console.log("updating split balls"),t.updateSplitBalls(e),t.m_dCurTime+=e,t.m_dCurTime>=t.m_dMaxSplitBallTime&&(t.m_splitBalls=[],console.log("spb len"+t.m_splitBalls.length),t.m_dCurTime=0),0===t.m_splitBalls.length&&(t.findAndRemoveActiveEvent("split-ball"),0===t.m_activeEvents.length&&t.startEvent("no-event"),t.m_nNumSplitBallCurWave=0,t.m_dSplitBallWaveCurTime=0);break;case"tiny-paddle":t.m_dCurTime+=e,t.m_dCurTime>=t.m_nMaxTinyPaddleTime&&(t.m_dCurTime=0,t.m_handleToPlayer1Paddle.exitTinyPaddleEvent(),t.m_multiPlayer?t.m_handleToPlayer2Paddle.exitTinyPaddleEvent():t.m_handleToAIPaddle.exitTinyPaddleEvent(),t.findAndRemoveActiveEvent("tiny-paddle"),0===t.m_activeEvents.length&&t.startEvent("no-event"))}}}return Object(d.a)(e,[{key:"initializeEventManager",value:function(e,t,a,i,l,n,s){this.m_handleToBall=e,this.m_handleToPlayer1Paddle=t,this.m_handleToPlayer2Paddle=a,this.m_handleToAIPaddle=i,this.m_gameUIWidth=l,this.m_gameUIHeight=n,this.m_multiPlayer=s}},{key:"updateGameDimensions",value:function(e,t){this.m_gameUIWidth=e,this.m_gameUIHeight=t}},{key:"addEventActiveEvent",value:function(e){this.m_activeEvents.push(e)}},{key:"findNextEvent",value:function(){console.log("enter findNextEvent");var e=[];if(console.log(this.multiBall),console.log(this.paddleShrink),console.log(this.fastBall),"true"===this.multiBall&&(console.log("options split-ball on"),e.push("split-ball")),"true"===this.paddleShrink&&(console.log("options tiny-paddle on"),e.push("tiny-paddle")),"true"===this.fastBall&&(console.log("options fast-ball on"),e.push("fast-ball")),0!==e.length){for(var t=Math.floor(Math.random()*e.length),a=e[t].split("-"),i=0;i<this.m_activeEvents.length;++i)for(var l=this.m_activeEvents[i].split("-");a[0]===l[0];)a=e[t=Math.floor(Math.random()*e.length)].split("-");this.startEvent(e[t])}console.log("exit findNextEvent")}},{key:"updateSplitBalls",value:function(e){var t=this;if(this.m_nNumSplitBallCurWave!==this.m_nNumSplitBallMaxWaves&&(this.m_dSplitBallWaveCurTime+=e,this.m_dSplitBallWaveCurTime>=this.m_dSplitBallWaveMaxTime)){for(var a=0;a<3;++a){var i=new j(this.m_gameUIWidth,this.m_gameUIHeight,"white");i.resetBall(),this.m_splitBalls.push(i),this.m_dSplitBallWaveCurTime=0}this.m_nNumSplitBallCurWave++}for(var l=function(a){t.m_splitBalls[a].update(e,function(e){switch(e){case"left":t.m_splitBalls[a].m_position.x=0,t.m_splitBalls[a].m_velocity.x*=-1;break;case"right":t.m_splitBalls[a].m_position.x=t.m_gameUIWidth-t.m_splitBalls[a].m_dimensions.width,t.m_splitBalls[a].m_velocity.x*=-1}})},n=0;n<this.m_splitBalls.length;++n)l(n)}},{key:"findAndRemoveActiveEvent",value:function(e){console.log("removing "+e),console.log("active events length: "+this.m_activeEvents.length);for(var t=0;t<this.m_activeEvents.length;++t){var a=this.m_activeEvents[t].split("-"),i=e.split("-");if(a[0]===i[0]){console.log("active events length: "+this.m_activeEvents.length),console.log("removing "+e),this.m_activeEvents.splice(t,1),console.log("active events length: "+this.m_activeEvents.length);break}}}},{key:"exitFastBallEvent",value:function(){this.m_handleToBall.exitFastBallEvent(),this.findAndRemoveActiveEvent("fast-ball"),0===this.m_activeEvents.length&&this.startEvent("no-event")}},{key:"renderEvents",value:function(e){for(var t=0;t<this.m_activeEvents.length;++t)switch(this.m_activeEvents[t]){case"split-ball":console.log(this.m_splitBalls);for(var a=0;a<this.m_splitBalls.length;++a)this.m_splitBalls[a].render(e)}}}]),e}(),G=function(e){function t(){var e,i;Object(c.a)(this,t);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(i=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).m_sfxWin=new Audio(a(71)),i.m_sfxLoss=new Audio(a(72)),i.startTime=0,i.m_nScoreToWin=0,i.m_szWinner="",i.m_sfxSong=new Audio(a(73)),i.m_eventManager=new H,i.state={player1Color:"white",player1Size:130,player2Color:"white",player2Size:130,ballColor:"white",imageURL:"",gamePaused:!1,gameStart:!0,gameStart2:!1,gameStart3:!1,m_bWon:!1,gameBorderColor:"white",gameBorderWidth:"1px",events:"false",music:!1,context:null,ball:null,gameUIWidth:0,gameUIHeight:0,player1:{paddle:null,score:0},player2:{paddle:null,aiPaddle:null,score:0},keys:{w:0,s:0,i:0,k:0}},i.handleResize=function(e){console.log("resizing");var t=i.props.windowHeight,a=i.props.windowWidth;i.setState({gameUIWidth:.85*a,gameUIHeight:.8*t}),i.state.player1.paddle.setPositionX(100),i.state.player1.paddle.updateGameSize(i.state.gameUIWidth,i.state.gameUIHeight),i.props.multiPlayer?(i.state.player2.paddle.setPositionX(i.state.gameUIWidth-100),i.state.player2.paddle.updateGameSize(i.state.gameUIWidth,i.state.gameUIHeight)):(i.state.player2.aiPaddle.setPositionX(i.state.gameUIWidth-100),i.state.player2.aiPaddle.updateGameSize(i.state.gameUIWidth,i.state.gameUIHeight)),i.state.ball.updateGameSize(i.state.gameUIWidth,i.state.gameUIHeight),i.m_eventManager.updateGameDimensions(i.state.gameUIWidth,i.state.gameUIHeight)},i.loadOptions=function(e){b.getOptions().then(function(t){console.log("res (GamePage.js): ",t.data),i.setState({player1Color:t.data[0].player1Color,player1Size:t.data[0].player1Size,player2Color:t.data[0].player2Color,player2Size:t.data[0].player2Size,ballColor:t.data[0].ballColor,imageURL:t.data[0].imageURL}),i.m_eventManager.multiBall=t.data[0].multiBall,i.m_eventManager.paddleShrink=t.data[0].paddleShrink,i.m_eventManager.fastBall=t.data[0].fastBall,i.m_nScoreToWin=t.data[0].value,console.log("bc: "+i.state.ballColor),console.log(i.state),"true"!==i.m_eventManager.multiBall&&"true"!==i.m_eventManager.paddleShrink&&"true"!==i.m_eventManager.fastBall||i.setState({events:"true"}),console.log("LOADED OPTIONS (GamePage.js)"),e()}).catch(function(e){return console.log("GameCom error loading options",e)})},i.handleInput=function(e){switch(!0===i.state.m_bWon&&32===e.keyCode&&i.setState({m_bWon:!1}),i.state.gameStart&&32===e.keyCode&&(i.setState({gameStart:!1}),i.setState({gameStart3:!0})),e.key){case"w":i.setKey("w",1);break;case"s":i.setKey("s",1);break;case"i":i.setKey("i",1);break;case"k":i.setKey("k",1);break;case"p":i.pauseGame();break;case"u":i.unPauseGame();break;case"t":i.m_eventManager.startEvent("split-ball");break;case"r":i.m_eventManager.startEvent("fast-ball");break;case"y":i.m_eventManager.startEvent("tiny-paddle")}},i.handleKeyUp=function(e){switch(console.log("here"),i.state.player1.paddle.clearMovingFlags(),i.props.multiPlayer?i.state.player2.paddle.clearMovingFlags():i.state.player2.aiPaddle.clearMovingFlags(),e.key){case"w":i.setKey("w",0);break;case"s":i.setKey("s",0);break;case"i":i.setKey("i",0);break;case"k":i.setKey("k",0)}},i.update=function(){if(i.state.gamePaused||i.state.gameStart||i.state.m_bWon)i.startTime=(new Date).getTime();else{i.state.music&&(i.isPlaying(i.m_sfxSong)||i.m_sfxSong.play());var e=(new Date).getTime(),t=(e-i.startTime)/1e3;if(i.startTime=e,i.m_eventManager.updateEvents(t),i.props.multiPlayer||i.state.player2.aiPaddle.update(i.state.ball.m_position.x,i.state.ball.m_position.y,t),i.processInput(t),i.state.ball.update(t,function(e){var t=null;switch(e){case"left":if((t=Object(W.a)({},i.state.player2)).score++,i.setState({player2:t}),i.state.ball.resetBall(),i.state.ball.m_bInFastBallEvent){i.m_eventManager.exitFastBallEvent();var a=i.state.ball;a.m_bInFastBallEvent=!1,i.setState({ball:a})}var l=i.state.ball;l.m_velocity.x*=-1,i.setState({ball:l}),i.checkForWins();break;case"right":(t=Object(W.a)({},i.state.player1)).score++,i.setState({player1:t}),i.state.ball.resetBall();var n=i.state.ball;if(n.m_velocity.x*=-1,i.setState({ball:n}),i.state.ball.m_bInFastBallEvent){i.m_eventManager.exitFastBallEvent();var s=i.state.ball;s.m_bInFastBallEvent=!1,i.setState({ball:s})}i.checkForWins()}}),i.checkCollision(),i.state.context){i.state.context.clearRect(0,0,i.state.gameUIWidth,i.state.gameUIHeight);var a=i.state.context;a.beginPath();var l=i.state.context.strokeStyle;a.strokeStyle=i.state.gameBorderColor,a.moveTo(i.state.gameUIWidth/2,0),a.lineTo(i.state.gameUIWidth/2,i.state.gameUIHeight),a.stroke(),a.strokeStyle=l,a.closePath(),i.setState({context:a}),i.state.ball.render(i.state.context),i.state.player1.paddle.render(i.state.context),i.props.multiPlayer?i.state.player2.paddle.render(i.state.context):i.state.player2.aiPaddle.render(i.state.context),i.m_eventManager.renderEvents(i.state.context)}}requestAnimationFrame(function(){i.update()})},i}return Object(u.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("mounted"),this.setState({music:!0}),this.m_sfxSong.play(),this.loadOptions(function(){console.log(e.state);var t=e.refs.canvas;e.setState({context:t.getContext("2d")});var a=e.props.windowHeight,i=e.props.windowWidth;console.log("DidMount height: "+a),console.log("DidMount width: "+i),e.setState({gameUIWidth:.85*i,gameUIHeight:.8*a});e.state.player1Color||e.setState({player1Color:"white"}),e.state.player2Color||e.setState({player2Color:"white"}),e.state.ballColor||e.setState({ballColor:"white"});e.state.player1Size||e.setState({player1Size:130}),e.state.player2Size||e.setState({player2Size:130});var l=Object(W.a)({},e.state.player1);l.paddle=new z(e.state.gameUIWidth,e.state.gameUIHeight,e.state.player1Color,e.state.player1Size),e.setState({player1:l}),e.state.player1.paddle.setPositionX(100);var n=Object(W.a)({},e.state.player2);e.props.multiPlayer?(n.paddle=new z(e.state.gameUIWidth,e.state.gameUIHeight,e.state.player2Color,e.state.player2Size),n.paddle.setPositionX(e.state.gameUIWidth-100),e.setState({player2:n})):(n.aiPaddle=new L(e.state.gameUIWidth,e.state.gameUIHeight,e.state.player2Color,e.state.player2Size),n.aiPaddle.setPositionX(e.state.gameUIWidth-100),n.aiPaddle.setNormalMode(),e.props.practiceMode&&n.aiPaddle.setPracticeMode(),e.setState({player2:n}));var s=Object(W.a)({},e.state.ball);s=new j(e.state.gameUIWidth,e.state.gameUIHeight,e.state.ballColor),e.setState({ball:s}),document.addEventListener("keydown",e.handleInput,!1),document.addEventListener("keyup",e.handleKeyUp,!1),window.addEventListener("resize",e.handleResize),console.log("eventM: "+e.m_eventManager),e.m_eventManager.initializeEventManager(e.state.ball,e.state.player1.paddle,e.state.player2.paddle,e.state.player2.aiPaddle,e.state.gameUIWidth,e.state.gameUIHeight,e.props.multiPlayer),requestAnimationFrame(function(){e.update()})})}},{key:"setKey",value:function(e,t){var a=Object(W.a)({},this.state.keys);switch(e){case"w":a.w=t;break;case"s":a.s=t;break;case"i":a.i=t;break;case"k":a.k=t}this.setState({keys:a})}},{key:"checkCollision",value:function(){this.state.player1.paddle.checkForCollision(this.state.ball),this.props.multiPlayer?this.state.player2.paddle.checkForCollision(this.state.ball):this.state.player2.aiPaddle.checkForCollision(this.state.ball)}},{key:"processInput",value:function(e){1===this.state.keys.w&&this.state.player1.paddle.movePaddle("up",e),1===this.state.keys.s&&this.state.player1.paddle.movePaddle("down",e),1===this.state.keys.i&&this.props.multiPlayer&&this.state.player2.paddle.movePaddle("up",e),1===this.state.keys.k&&this.props.multiPlayer&&this.state.player2.paddle.movePaddle("down",e)}},{key:"componentWillUnmount",value:function(){this.m_sfxSong.pause(),document.removeEventListener("keyup",this.handleKeyUp,!1),document.removeEventListener("keydown",this.handleInput,!1),window.removeEventListener("resize",this.handleResize)}},{key:"handleSound",value:function(){if(this.state.music){this.m_sfxSong.pause(),this.setState({music:!1});var e=Object(W.a)({},this.state.player1);e.paddle.m_bPlaySound=!1,this.setState({player1:e});var t=Object(W.a)({},this.state.player2);this.props.multiPlayer?t.paddle.m_bPlaySound=!1:t.aiPaddle.m_bPlaySound=!1,this.setState({player2:t})}else{this.m_sfxSong.play(),this.setState({music:!0});var a=Object(W.a)({},this.state.player1);a.paddle.m_bPlaySound=!0,this.setState({player1:a});var i=Object(W.a)({},this.state.player2);this.props.multiPlayer?i.paddle.m_bPlaySound=!0:i.aiPaddle.m_bPlaySound=!0,this.setState({player2:i})}}},{key:"pauseGame",value:function(){var e=!0;this.state.gamePaused&&(e=!1),this.setState({gamePaused:e})}},{key:"unPauseGame",value:function(){console.log("game un-paused"),this.setState({gamePaused:!1})}},{key:"toggleGamePause",value:function(){this.setState({gamePaused:!this.state.gamePaused})}},{key:"resetGame",value:function(){var e=Object(W.a)({},this.state);e.player1.score=0,e.player1.paddle.placeAtOrigin(),e.player2.score=0,this.props.multiPlayer?e.player2.paddle.placeAtOrigin():e.player2.aiPaddle.placeAtOrigin(),e.ball.resetBall(),e.keys={w:0,s:0,i:0,k:0},e.gameStart=!0,this.setState(e)}},{key:"checkForWins",value:function(){this.state.player1.score>=this.m_nScoreToWin?(this.state.music&&this.m_sfxWin.play(),this.setState({m_bWon:!0}),this.setState({gameStart2:!0}),this.m_szWinner="Player One",this.resetGame()):this.state.player2.score>=this.m_nScoreToWin&&(this.props.multiPlayer&&!0===this.state.music?this.m_sfxWin.play():this.state.music&&this.m_sfxLoss.play(),this.setState({m_bWon:!0}),this.setState({gameStart2:!0}),this.props.multiPlayer?this.m_szWinner="Player Two":this.m_szWinner="The Computer",this.resetGame())}},{key:"isPlaying",value:function(e){return!e.paused}},{key:"getPauseGameJSX",value:function(){return l.a.createElement("div",{id:"modal",className:"text-center"},l.a.createElement("h1",{id:"pong-text"},"Paused"),l.a.createElement("h4",null," Press  'P'  to resume"))}},{key:"getStartGameJSX",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"modal",className:"text-center"},l.a.createElement("h1",{id:"pong-text"},"PONG!"),l.a.createElement("h3",{className:"mb-3"}," Press the SPACEBAR to play"),l.a.createElement("h4",null," NOTE: You can pause the game at any moment by pressing the 'P' key")))}},{key:"getWonGameJSX",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"modal",className:"text-center"},l.a.createElement("h1",{className:"mb-4 glow2",id:"pong-text"}," ",this.m_szWinner," won!"),l.a.createElement("h5",null,"Press SPACEBAR to play again")))}},{key:"getRegHeaderJSX",value:function(){l.a.createElement("p",null,"Steve!!!!!");return"true"===this.state.events?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h2",null,"Player One: ",this.state.player1.score)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h2",null,"Current Event:",this.m_eventManager.m_activeEvents.map(function(e){return" "+e})),l.a.createElement("h2",null,"Event in: ",this.m_eventManager.m_dNextEventTimer.toFixed(0)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h2",null,"Player One: ",this.state.player1.score)),l.a.createElement("div",{className:"col-md-6"}),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h2",null,"Player Two: ",this.state.player2.score)))}},{key:"getSuddenDeathJSX",value:function(){l.a.createElement("p",null,"YOOOO!!!!");return"true"===this.state.events?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h2",{className:"suddenDeath"},"Sudden Death!")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h2",null,"Current Event:",this.m_eventManager.m_activeEvents.map(function(e){return" "+e})),l.a.createElement("h2",null,"Event in: ",this.m_eventManager.m_dNextEventTimer.toFixed(0)))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h2",{className:"suddenDeath"},"Sudden Death!")))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-1"}),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"row player-text mt-3 mb-4"},1===this.m_nScoreToWin?this.getSuddenDeathJSX():this.getRegHeaderJSX()),l.a.createElement("div",{className:"row"},l.a.createElement("canvas",{className:"gameUI",style:{border:"".concat(this.state.gameBorderWidth," solid ").concat(this.state.gameBorderColor),backgroundImage:"url("+this.state.imageURL+")",backgroundSize:"cover",backgroundPosition:"center",marginBottom:"20px"},width:this.state.gameUIWidth,height:this.state.gameUIHeight,ref:"canvas"}),this.state.m_bWon?this.getWonGameJSX():"",this.state.gamePaused?this.getPauseGameJSX():"",this.state.gameStart2||this.state.gameStart3?"":this.getStartGameJSX())),l.a.createElement("div",{className:"col-md-1"},l.a.createElement("div",null,l.a.createElement(v.a,{onClick:this.resetGame,to:"/"},l.a.createElement("i",{id:"home-icon",className:"m-3 fas fa-home fa-2x"}))),this.state.music?l.a.createElement("div",null,l.a.createElement("div",{onClick:function(){return e.handleSound()}},l.a.createElement("i",{id:"volume-icon",className:"m-3 fas fa-volume-up fa-2x"}))):l.a.createElement("div",null,l.a.createElement("div",{onClick:function(){return e.handleSound()}},l.a.createElement("i",{id:"volume-icon",className:"m-3 fas fa-volume-mute fa-2x"})))))))}}]),t}(i.Component),X=F()(G),Y=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,{multiPlayer:0,practiceMode:0}))}}]),t}(i.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,{multiPlayer:1,practiceMode:0}))}}]),t}(i.Component),J=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,{multiPlayer:0,practiceMode:1}))}}]),t}(i.Component);var K=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(m.a,null,l.a.createElement(r.a,{exact:!0,path:"/",component:y}),l.a.createElement(r.a,{exact:!0,path:"/options",component:I}),l.a.createElement(r.a,{exact:!0,path:"/gameOnePlayer",component:Y}),l.a.createElement(r.a,{exact:!0,path:"/gameTwoPlayer",component:V}),l.a.createElement(r.a,{exact:!0,path:"/practice",component:J}))))};s.a.render(l.a.createElement(K,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.aff36723.chunk.js.map